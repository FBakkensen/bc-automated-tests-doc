name: Copilot Agent Setup

steps:
  - name: Checkout code
    uses: actions/checkout@v4

  - name: Setup Python
    uses: actions/setup-python@v5
    with:
      python-version: '3.11'

  - name: Setup Node.js
    uses: actions/setup-node@v4
    with:
      node-version: '20'
      cache: 'npm'

  - name: Install Python dependencies
    run: |
      python -m pip install --upgrade pip
      pip install -e .[dev]

  - name: Install documentation tools
    run: |
      npm install -g @mermaid-js/mermaid-cli markdownlint-cli

  - name: Install pandoc
    run: |
      sudo apt-get update && sudo apt-get install -y pandoc

  - name: Setup pre-commit
    run: |
      pre-commit install

  - name: Verify setup
    run: |
      python --version
      node --version
      npm --version
      ruff --version
      mypy --version
      pytest --version
      markdownlint --version
      mmdc --version
      pandoc --version
      pre-commit --version